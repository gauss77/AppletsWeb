<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Chapter&nbsp;8.&nbsp;Customizing output code with @j2s JavaDoc tags and annotations</title><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="index.html" title="Java2Script User's Guide"><link rel="up" href="index.html" title="Java2Script User's Guide"><link rel="prev" href="ch07s02.html" title="Java2Script AJAX"><link rel="next" href="section-writing-native-js-code-with-j2snative.html" title="Writing native JavaScript code with @j2sNative"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="Chapter&nbsp;8.&nbsp;Customizing output code with @j2s JavaDoc tags and annotations"><div class="titlepage"><div><div><h2 class="title"><a name="using-j2s-compiler-directives"></a>Chapter&nbsp;8.&nbsp;Customizing output code with @j2s JavaDoc tags and annotations</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="using-j2s-compiler-directives.html#N104F9">Using @j2s tags in JavaDoc</a></span></dt><dt><span class="section"><a href="section-writing-native-js-code-with-j2snative.html">Writing native JavaScript code with @j2sNative</a></span></dt><dt><span class="section"><a href="ch08s03.html">Using real Java annotations instead JavaDoc for @j2s</a></span></dt></dl></div><div class="epigraph"><p>
Action may not bring happiness but there is no happiness without action.
</p><div class="attribution"><span>&mdash;<span class="attribution">William James</span></span></div></div><p>The Java2Script compiler supports special syntax in JavaDoc comments for doing some interesting things at compile time. 
   Java2Script extends the JavaDoc, and you can use the extended JavaDoc tags to do some jobs in JavaScript way. 
   With the help of extended JavaDoc tag, we can add extra JavaScript codes or replacing the Java codes without modifying the Java codes.</p><p>Main reference page is http://j2s.sourceforge.net/articles/tutorial-advanced-programming-on-j2s.html</p><div class="section" title="Using @j2s tags in JavaDoc"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N104F9"></a>Using @j2s tags in JavaDoc</h2></div></div></div><p>Java2Script compiler supports some "directives" that the user can include in its java code inside javadoc comments, that affects how a java element, 
  like a method, a class or simple code block is translated to javascript. So the javadoc always must go before some java block of code. Also, usually this
  directives accepts some input that must be after the @j2s directive in the same javadoc. In the following java segment, we use the directive @j2sNative 
  to tell the J2S compiler that a java code block must be replaced by some native javascript code that we give: </p><pre class="programlisting">
System.out.println("Code before");
/**
 * @j2sNative
 *
 * alert("a javascript native statement");
 */
{
    System.out.println("these statements will be replaced");
} 
System.out.println("Code after");
</pre><p>that will be translated to </p><pre class="programlisting">
System.out.println("Code before");
{
alert("a javascript native statement");
}
System.out.println("Code after");
</pre><p>The important thing to notice here is how the java statement inside the block ("these statements will be replaced") is 
not present in the translated code, and it was replaced by the javascript statement <code class="code">alert("a javascript native statement");</code>
that we wrote inside the javadoc comment, after the @j2sNative directive.</p><p>All these @j2s annotations that we will describe later in more detail, are used the same way. First of all, they must be inside a JavaDoc 
   comment. JavaDoc comments are special comments that begin with <code class="code">/**</code> instead of <code class="code">/*</code>. This JavaDoc comment have to go before a java 
   code entity, like a method definition, a class definition or a code block. Second, the javadoc must contain a special J2S annotation like in the previous 
   example, <code class="code">@j2sNative </code>. We call this @j2s annotations <span class="emphasis"><em>J2S compiler directives</em></span>, since they let us customize in some ways 
   the compiler output code.  Also, in most cases, the J2S compiler directive accepts some text input, like in the last example the 
   javascript native code, and act over some java element, like in the last example, the java code block.</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>When you are inside a JavaDoc comment, if you type @j2s and then ctrl-space, eclipse will
      offer an autocompletion menu in which you can choose the desired @j2s annotation easily: </p><div class="figure"><a name="N1051C"></a><p class="title"><b>Figure&nbsp;8.1.&nbsp;@j2s annotations eclipse auto completion menu</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/eclipse-autocomplete-j2s-annotation.png" alt="@j2s annotations eclipse auto completion menu"></div></div></div><br class="figure-break"></div></div></div></body></html>